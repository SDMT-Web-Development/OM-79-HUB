@model CENTRAL79HUB
@using Microsoft.AspNetCore.Mvc.Rendering
@using Microsoft.AspNetCore.Mvc;

@{
    ViewData["Title"] = "Details";
}
</br>
<h1 style="font-weight: bold">
    Details</h1>
<hr />
<div>
    <h4>OM-79</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserId)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserId)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Otherbox)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Otherbox)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.District)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.District)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.County)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.County)
        </dd>
    </dl>
    <input type="hidden" name="OM79ID" value="@ViewBag.testUniqueID" />

    @{
        // Replace 'yourPrimaryKey' with the actual primary key you want to pass
        var ID = ViewBag.testUniqueID; // Replace with your actual primary key value
            
    }



    
    <div id="OMContainer">
        @await Component.InvokeAsync("LinkedOM", new { hubId = ViewBag.testUniqueID })
    </div>



<div>
    <a href="@Url.Action("Create", "OM79", new { uniqueID = ViewBag.testUniqueID })" class="btn btn-primary">Add New Item Attached to OM-79</a>
</div>
<br />
<a asp-controller="FileGenerationAndPackaging" asp-action="PrintOM79HUBwOM79" asp-route-id="@Model.OMId" class="btn btn-secondary">Export Packaged Document</a>
<hr />

<div id="signContainer" class="container">
    @await Component.InvokeAsync("LinkedSignatures", new { hubId = ViewBag.testUniqueID })
</div>
</div>




<div>
    <a asp-action="Edit" asp-route-id="@Model?.OMId">Edit</a> |
    <a asp-action="OM79 Form list">Back to List</a>
</div>


@section scripts {

    <script>
        $(document).ready(function () {
            $(".sign").click(function () {
                $("#sigtype").val(this.value)
                $("#signModal").modal('toggle')
            });
            $('.sign').siblings(':text').each(function () {
                // there's a better way to do this
                if ($(this).attr('placeholder') != "Traffic Engineer" && $(this).attr('placeholder') != "Maintenance Engineer" && $(this).attr('placeholder') != "Construction Engineer" && $(this).attr('placeholder') != "Right of Way Manager" && $(this).attr('placeholder') != "District Manager" && $(this).attr('placeholder') != "Bridge Engineer") {
                    $(this).siblings().addClass('disabled')

                }

            });
        })

    </script>
}


@*I'm putting my script here bc jquery done be broke
        I'm sure there's a smart way to load this and someone else knows it. ~nick
    *@
